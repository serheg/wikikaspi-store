function t_datepicker_init(e,t,a){var r,n=document.querySelector("#rec"+e);n&&(r="",r=a?"#rec"+e+' [data-elem-id="'+a+'"] [data-input-lid="'+t+'"]':"#rec"+e+' [data-input-lid="'+t+'"]',(e=n.querySelector(r+" .t-input-block"))&&(e.querySelector(".t_datepicker__inner")||e.classList.contains("js-datepicker-rendered")||(t=e.querySelector(".t-datepicker"))&&(e.classList.add("js-datepicker-rendered"),t.setAttribute("autocomplete",0<navigator.userAgent.search(/Chrome/)?"no":"off"),e.classList.contains("t-input-block_inited-date-picker")||(e.classList.add("t-input-block_inited-date-picker"),e.style.position="relative"),t_datepicker__addHandler(r+" .t-datepicker",t_datepicker__createOptions(e,n)))))}function t_datepicker__createOptions(e,t){var a=(window.lang||window.navigator.userLanguage||window.navigator.language).toUpperCase().slice(0,2),r=document.getElementById("allrecords");!r||(c=r.getAttribute("data-tilda-project-lang"))&&(a=c);for(var n=[],i=0;i<12;i++){var d=new Date(Date.UTC(2006,i,1,0,0,0));n.push(d.toLocaleDateString(a,{month:"long",timeZone:"UTC"}))}for(var l=[],s=1;s<=7;s++){d=new Date(Date.UTC(2006,0,s,0,0,0));l.push(d.toLocaleDateString(a,{weekday:"short",timeZone:"UTC"}).substring(0,2))}var r=e.querySelector(".t-datepicker__wrapper input").getAttribute("data-tilda-dateunvailable"),c=[];return r&&(c=r.split(",")),{months:n,weekDays:l,body:e,sundayBased:!1,pickerAttribute:"data-picker",datePickerClass:"t_datepicker__inner",selectedDayClass:"selected-day",header:'<div class="t_datepicker__header"><button class="t_datepicker__arrow t_datepicker__arrow_prev" type="button"></button><button class="t_datepicker__arrow t_datepicker__arrow_next" type="button"></button><div class="t_datepicker__label t_datepicker__label_month"><span>{{month}}</span><select class="t_datepicker__select t_datepicker__select_month" tabindex="-1">{{months}}</select></div><div class="t_datepicker__label t_datepicker__label_year"><span>{{year}}</span><select class="t_datepicker__select t_datepicker__select_year" tabindex="-1">{{years}}</select></div></div>',minDate:"1940-01-01",maxDate:"2040-12-31",nextButtonClass:"t_datepicker__arrow_next",prevButtonClass:"t_datepicker__arrow_prev",selectYearClass:"t_datepicker__select_year",selectMonthClass:"t_datepicker__select_month",isRendered:!1,rec:t,datePickerEl:"",datePickerTable:"",nextButtonEl:"",prevButtonEl:"",currentMonth:"",currentYear:"",inputEl:"",disablePast:-1!==c.indexOf("past"),disableFuture:-1!==c.indexOf("future"),disableMonday:-1!==c.indexOf("mo"),disableTuesday:-1!==c.indexOf("tu"),disableWednesday:-1!==c.indexOf("we"),disableThursday:-1!==c.indexOf("th"),disableFriday:-1!==c.indexOf("fr"),disableSaturday:-1!==c.indexOf("sa"),disableSunday:-1!==c.indexOf("su"),disableToday:-1!==c.indexOf("today")}}function t_datepicker__renderCallback(e){var t,a,r;1===e.rec.querySelectorAll(".t-cover, .t396__artboard").length&&(t=e.datePickerEl,a=(r=e.body).getBoundingClientRect().height,r=r.getBoundingClientRect().y-e.rec.getBoundingClientRect().y,e.rec.getBoundingClientRect().height<r+t.getBoundingClientRect().height+a?(t.style.top="auto",t.style.bottom="100%"):(t.style.bottom="auto",t.style.top="100%"))}function t_datepicker__addHandler(e,r){var n=r.body.querySelector(e),i=r.maxDate.split("-")[0],d=r.minDate.split("-")[0],e="click mousedown".split(" "),t=!1;e.forEach(function(e){n.addEventListener(e,function(){t=!t&&(t_datepicker__openDatepicker(r),!0)})}),document.addEventListener("click",function(e){e.target!==n||r.isRendered&&"none"!==r.datePickerEl.style.display?!e.target||e.target.classList.contains(r.datePickerClass)||e.target.closest("."+r.datePickerClass)||e.target.classList.contains("t-datepicker")||t_datepicker__closeDatepicker(r):0!==(e=document.querySelectorAll(".t_datepicker__inner")).length&&e.forEach(function(e){e!==n&&(e.style.display="none")})}),r.body.addEventListener("click",function(e){var t,a=e.target.getAttribute(r.pickerAttribute);!a||(t=parseInt(a.split("-")[0],10))<=i&&d<=t&&((t=r.datePickerTable.querySelector("td.selected-day"))&&t.classList.remove("selected-day"),e.target.classList.add("selected-day"),t_datepicker__renderValue(n,a),t_datepicker__closeDatepicker(r)),e.target&&e.target.classList.contains(r.nextButtonClass)&&(t_datepicker__goToNextMonth(r),t_datepicker__checkLimit(r)),e.target&&e.target.classList.contains(r.prevButtonClass)&&(t_datepicker__goToPrevMonth(r),t_datepicker__checkLimit(r))}),n.addEventListener("focusout",function(e){var t=t_datepicker__getDateDivider(r.inputEl),e=e.target.value;e&&t_datepicker__validateWithRestrictions(e.split(t),r,n)}),n.addEventListener("keydown",function(e){var t;13===e.keyCode&&(t=t_datepicker__getDateDivider(r.inputEl),(e=e.target.value)&&t_datepicker__validateWithRestrictions(e.split(t),r,n))})}function t_datepicker__renderCalendar(e){var t=document.createElement("div");t.classList.add(e.datePickerClass);var a=t_datepicker__getCurrentDate().split("-");e.sundayBased||(e.weekDays.push(e.weekDays[0]),e.weekDays.splice(0,1));for(var r=[],n=parseInt(e.minDate.slice(0,4),10);n<=parseInt(e.maxDate.slice(0,4),10);n++)r.push(n);var i=e.header.replace("{{year}}",a[0]).replace("{{years}}",t_datepicker__getOptionsHTML(r,parseInt(a[0],10))).replace("{{month}}",e.months[parseInt(a[1],10)-1]).replace("{{months}}",t_datepicker__getOptionsHTML(e.months,e.months[parseInt(a[1],10)-1]));i+='<table class="t_datepicker__body">',i+=t_datepicker__renderMonth(a[0],parseInt(a[1],10)-1,e),i+="</table>",t.innerHTML=i,e.body.insertAdjacentElement("beforeend",t),e.datePickerEl=e.body.querySelector("."+e.datePickerClass),e.datePickerTable=e.body.querySelector(".t_datepicker__body"),e.nextButtonEl=e.datePickerEl.querySelector("."+e.nextButtonClass),e.prevButtonEl=e.datePickerEl.querySelector("."+e.prevButtonClass),e.currentMonth=e.body.querySelector(".t_datepicker__label_month span"),e.currentYear=e.body.querySelector(".t_datepicker__label_year span"),e.inputEl=e.body.querySelector(".t-datepicker");t=e.body.querySelector(".t_datepicker__select_year");t_datepicker__addSelectHandler(e.body.querySelector(".t_datepicker__select_month"),e,e.currentMonth),t_datepicker__addSelectHandler(t,e,e.currentYear)}function t_datepicker__goToNextMonth(e){var t,a,r,n=e.currentYear.innerHTML,i=e.datePickerEl.querySelector("."+e.selectMonthClass),d=e.months.indexOf(e.currentMonth.innerHTML);11===parseInt(d,10)?(t=e.months[0],a=e.datePickerEl.querySelector("."+e.selectYearClass),r=parseInt(n,10)+1,a.value=r,e.currentYear.innerHTML=r):(t=e.months[parseInt(d,10)+1],r=n),i.value=t,e.currentMonth.innerHTML=t,e.datePickerTable.innerHTML=t_datepicker__renderMonth(r,e.months.indexOf(t),e)}function t_datepicker__goToPrevMonth(e){var t,a,r,n=e.currentYear.innerHTML,i=e.datePickerEl.querySelector("."+e.selectMonthClass),d=e.months.indexOf(e.currentMonth.innerHTML);0===parseInt(d,10)?(t=e.months[11],a=e.datePickerEl.querySelector("."+e.selectYearClass),r=parseInt(n,10)-1,a.value=r,e.currentYear.innerHTML=r):(t=e.months[parseInt(d,10)-1],r=n),i.value=t,e.currentMonth.innerHTML=t,e.datePickerTable.innerHTML=t_datepicker__renderMonth(r,e.months.indexOf(t),e)}function t_datepicker__renderMonth(e,t,a,r){for(var n=t_datepicker__generateDays(e,t),i=r?new Date(e,t,r):t_datepicker__getSelectedDate(a),d="<thead><tr>",l=0;l<a.weekDays.length;l++)d+='<th class="t_datepicker__week-day'+(4<l?" t_datepicker__week-end":"")+'">'+a.weekDays[l]+"</th>";var s=t_datepicker__getCurrentDate().split("-");d+="</tr></thead><tbody>";for(var c=0,l=0;l<n.length;l++)d+=1===n[l].getDay()?"<tr>":"",d+='<td class="t_datepicker__day-cell ',n[l].getMonth()===t?d+="t_datepicker__current-month":n[l].getMonth()<t?d+="t_datepicker__previous-month":n[l].getMonth()>t&&(d+="t_datepicker__next-month"),n[l].getFullYear()===parseInt(s[0],10)&&n[l].getMonth()+1===parseInt(s[1],10)&&n[l].getDate()===parseInt(s[2],10)&&(d+=" t_datepicker__today"),n[l].getFullYear()===i.getFullYear()&&n[l].getMonth()===i.getMonth()&&n[l].getDate()===i.getDate()&&(d+=" t_datepicker__selected-day"),c+=1,(a.disableMonday&&c+!a.sundayBased===2||a.disableTuesday&&c+!a.sundayBased===3||a.disableWednesday&&c+!a.sundayBased===4||a.disableThursday&&c+!a.sundayBased===5||a.disableFriday&&c+!a.sundayBased===6||a.disableSaturday&&c+!a.sundayBased===7||a.disableSunday&&(c+!a.sundayBased)%7==1||a.disableToday&&n[l].getFullYear()===parseInt(s[0],10)&&n[l].getMonth()+1===parseInt(s[1],10)&&n[l].getDate()===parseInt(s[2],10))&&(d+=" t_datepicker__day-cell--disabled"),7===c&&(c=0),(n[l].getFullYear()<parseInt(s[0],10)||n[l].getFullYear()===parseInt(s[0],10)&&n[l].getMonth()+1<parseInt(s[1],10)||n[l].getFullYear()===parseInt(s[0],10)&&n[l].getMonth()+1===parseInt(s[1],10)&&n[l].getDate()<parseInt(s[2],10))&&(d+=" t_datepicker__past",a.disablePast&&(d+=" t_datepicker__day-cell--disabled")),(n[l].getFullYear()>parseInt(s[0],10)||n[l].getFullYear()===parseInt(s[0],10)&&n[l].getMonth()+1>parseInt(s[1],10)||n[l].getFullYear()===parseInt(s[0],10)&&n[l].getMonth()+1===parseInt(s[1],10)&&n[l].getDate()>parseInt(s[2],10))&&(d+=" t_datepicker__future",a.disableFuture&&(d+=" t_datepicker__day-cell--disabled")),d+='"',d+=a.pickerAttribute+'="',d+=n[l].getFullYear()+"-",d+=n[l].getMonth()+1+"-",d+=n[l].getDate()+'"',d+=">",d+=n[l].getDate(),d+=0===n[l].getDay()?"</tr>":"";return d+="</tbody>"}function t_datepicker__getSelectedDate(e){if(!e.inputEl||!e.inputEl.value)return new Date;var t,a=t_datepicker__getDateDivider(e.inputEl),a=e.inputEl.value.split(a),e=e.inputEl.getAttribute("data-tilda-dateformat");return"DD-MM-YYYY"===e?t=new Date(a[2],a[1]-1,a[0]):"MM-DD-YYYY"===e?t=new Date(a[2],a[0]-1,a[1]):"YYYY-MM-DD"===e&&(t=new Date(a[0],a[1]-1,a[2])),t}function t_datepicker__generateDays(e,t){var a=new Date(e,t,1),r=[],n=a.getDay()-1==-1?6:a.getDay()-1;a.setDate(a.getDate()-n);for(var i=0;i<n;i++)r.push(new Date(a)),a.setDate(a.getDate()+1);for(;a.getMonth()===t;)r.push(new Date(a)),a.setDate(a.getDate()+1);if(1!==a.getDay())for(;1!==a.getDay()&&(r.push(new Date(a)),a.setDate(a.getDate()+1),!isNaN(a.getDay())););return r}function t_datepicker__openDatepicker(e){if(!e.isRendered){t_datepicker__renderCalendar(e);var t=t_datepicker__getDateDivider(e.inputEl);return isNaN(+e.inputEl.value.replaceAll(t,""))||t_datepicker__validateEnteredValue(t_datepicker__readValue(e.inputEl),e),e.isRendered=!0,e.datePickerEl.style.display="block",void t_datepicker__renderCallback(e)}t=t_datepicker__getDateDivider(e.inputEl);isNaN(+e.inputEl.value.replaceAll(t,""))||t_datepicker__validateEnteredValue(t_datepicker__readValue(e.inputEl),e),e.datePickerEl.style.display="block",t_datepicker__renderCallback(e)}function t_datepicker__closeDatepicker(e){e.datePickerEl&&(e.datePickerEl.style.display="none",t_datepicker__renderCallback(e))}function t_datepicker__renderValue(e,t){for(var a=t.split("-"),r=0;r<3;r++)a[r].length<2&&(a[r]="0"+a[r]);var n=e.getAttribute("data-tilda-dateformat"),t=t_datepicker__getDateDivider(e);"DD-MM-YYYY"===n&&(e.value=a[2]+t+a[1]+t+a[0]),"MM-DD-YYYY"===n&&(e.value=a[1]+t+a[2]+t+a[0]),"YYYY-MM-DD"===n&&(e.value=a[0]+t+a[1]+t+a[2]),e.classList.contains("t-input_pvis")&&e.classList.add("t-input_has-content")}function t_datepicker__readValue(e){var t=t_datepicker__getDateDivider(e),t=e.value.split(t),e=e.getAttribute("data-tilda-dateformat");return""!=t?"DD-MM-YYYY"===e?t[2]+"-"+t[1]+"-"+t[0]:"MM-DD-YYYY"===e?t[2]+"-"+t[0]+"-"+t[1]:"YYYY-MM-DD"===e?t[0]+"-"+t[1]+"-"+t[2]:void 0:t_datepicker__getCurrentDate()}function t_datepicker__getCurrentDate(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}function t_datepicker__getOptionsHTML(e,t){for(var a=[],r=0;r<e.length;r++)a.push('<option value="'+e[r]+'"'+(e[r]===t?"selected":"")+">"+e[r]+"</option>");return a.join("")}function t_datepicker__getDateDivider(e){if(e){e=e.getAttribute("data-tilda-datediv");return"dash"!==e&&e?"slash"===e?"/":"dot"===e?".":void 0:"-"}}function t_datepicker__checkLimit(e){var t=e.maxDate.split("-"),a=e.minDate.split("-"),r=parseInt(e.currentYear.innerHTML,10),n=e.currentMonth.innerHTML;11===e.months.indexOf(n)&&r===parseInt(t[0],10)?(e.nextButtonEl.disabled=!0,e.prevButtonEl.disabled=!1):0===e.months.indexOf(n)&&r===parseInt(a[0],10)?(e.prevButtonEl.disabled=!0,e.nextButtonEl.disabled=!1):(e.nextButtonEl.disabled=!1,e.prevButtonEl.disabled=!1)}function t_datepicker__addSelectHandler(e,a,r){e.addEventListener("input",function(e){r.innerHTML=e.target.value;var t=a.currentYear.innerHTML,e=a.months.indexOf(a.currentMonth.innerHTML);a.datePickerTable.innerHTML=t_datepicker__renderMonth(t,e,a),t_datepicker__checkLimit(a)})}function t_datepicker__validateEnteredValue(e,t){var a=e.split("-"),r=parseInt(a[0],10),n=parseInt(a[1])-1,i=parseInt(a[2]),d=parseInt(t.maxDate.split("-")[0],10),l=parseInt(t.minDate.split("-")[0],10),s=0<=i&&i<=31,c=0<=n&&n<=11,e=t.datePickerEl.querySelector("."+t.selectMonthClass),a=t.datePickerEl.querySelector("."+t.selectYearClass);d<r?(t.datePickerTable.innerHTML=t_datepicker__renderMonth(d,c?n:11,t,s?i:void 0),e.value=t.months[c?n:11],t.currentMonth.innerHTML=t.months[c?n:11],a.value=d,t.currentYear.innerHTML=d):r<l?(t.datePickerTable.innerHTML=t_datepicker__renderMonth(l,c?n:0,t,s?i:void 0),e.value=t.months[c?n:0],t.currentMonth.innerHTML=t.months[c?n:0],a.value=l,t.currentYear.innerHTML=l):(t.datePickerTable.innerHTML=t_datepicker__renderMonth(r,c?n:11,t,s?i:void 0),e.value=t.months[c?n:0],t.currentMonth.innerHTML=t.months[c?n:0],a.value=r,t.currentYear.innerHTML=r),t_datepicker__checkLimit(t)}function t_datepicker__validateWithRestrictions(e,t,a){var r=new Date(e[2],e[1]-1,e[0]),n=r.getDay(),e=new Date;(r.getTime()>e.getTime()&&t.disableFuture||r.getTime()<e.getTime()&&t.disablePast||0===n&&t.disableSunday||1===n&&t.disableMonday||2===n&&t.disableTuesday||3===n&&t.disableWednesday||4===n&&t.disableThursday||5===n&&t.disableFriday||6===n&&t.disableSaturday||r.getFullYear()===e.getFullYear()&&r.getMonth()===e.getMonth()&&r.getDate()===e.getDate()&&t.disableToday)&&(a.value="")}